{"version":3,"sources":["editor.js"],"names":["BX","namespace","resolver","currentImage","license","JSON","stringify","owner","version","enterprise_license","available_actions","features","platform","app_identifiers","api_token","domains","issued_at","expires_at","signature","Main","ImageEditor","predefinedOptions","this","popup","PopupWindow","util","getRandomString","zIndex","width","window","innerWidth","height","innerHeight","overlay","noAllPaddings","className","animationOptions","show","eventType","close","events","onPopupClose","bind","loader","Loader","onWindowResize","ratio","CUSTOM","SQUARE","4/3","16/9","PROFILE","FB_AD","FB_POST","FB_COVER","renderType","BASE64","IMAGE","BUFFER","BLOB","MSBLOB","createSDKInstance","image","options","assets","forceCrop","controlsOptions","library","type","isPlainObject","Object","assign","transform","isArray","categories","forEach","category","ratios","ratioItem","dimensions","PhotoEditorSDK","Math","Vector2","exportParams","download","export","megapixels","isNumber","UI","DesktopUI","container","baseUrl","showHeader","responsive","preloader","versionCheck","logLevel","language","editor","maxMegaPixels","desktop","displayCloseButton","extensions","languages","ru","ImageEditorLocale","prepareImage","proxy","Promise","resolve","reject","src","Image","isString","add_url_param","sessid","bitrix_sessid","url","complete","onload","onerror","getFileName","split","pop","getInstance","instance","prototype","edit","Error","contentContainer","document","documentElement","style","overflow","onCustomEvent","popupContainer","then","imageInstance","dependencies","loadExt","SDKInstance","on","onExport","hide","apply","off","dispose","innerHTML","result","getOptions","fileName","setWidth","setHeight"],"mappings":"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","file":""}