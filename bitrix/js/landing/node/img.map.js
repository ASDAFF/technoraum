{"version":3,"sources":["img.js"],"names":["BX","namespace","attr","Landing","Utils","data","encodeDataValue","decodeDataValue","Block","Node","Img","options","apply","this","arguments","editPanel","lastValue","field","uploadParams","isGrouped","node","addEventListener","onClick","bind","isAllowInlineEdit","setAttribute","message","isBackground","nodeName","isImage","isIcon","getBackgroundUrl","background","style","backgroundImage","slice","replace","getFileId","fileId","parseInt","dataset","fileid","getAlt","alt","getPseudoUrl","url","getImageSrc","src","setImageValue","value","newNode","create","attrs","data-fileid","id","parentNode","insertBefore","remove","setBackgroundValue","prototype","__proto__","constructor","event","manifest","allowInlineEdit","Main","getInstance","isControlsEnabled","Text","currentNode","isEditable","UI","Panel","StylePanel","isShown","preventDefault","stopPropagation","Button","FontAction","hideAll","ColorAction","Content","selector","title","className","appendFooterButton","BaseButton","text","save","hide","document","body","appendChild","layout","form","Form","BaseForm","name","addField","getField","clear","appendForm","show","EditorPanel","SmallEditorPanel","forms","fields","getValue","JSON","stringify","setValue","description","dimensions","width","height","disableLink","closest","Field","Image","content","disableAltField","requestAnimationFrame","adjustPreviewBackgroundSize","preventSave","preventHistory","decodeURIComponent","onChange","History","push","Entry","block","getBlock","command","undo","redo","type","href","target","enabled"],"mappings":"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","file":""}