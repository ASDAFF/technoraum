<? namespace Bitrix\Landing;$GLOBALS['____634405865']= array(base64_decode('ZGVm'.'aW5l'),base64_decode('Z'.'XhwbG9kZQ'.'=='),base64_decode('cGF'.'jaw=='),base64_decode('bWQ1'),base64_decode('Y2'.'9uc3'.'RhbnQ='),base64_decode('aGFzaF'.'9o'.'bWFj'),base64_decode('c'.'3RyY21'.'w'),base64_decode('Z'.'XhwbG'.'9kZQ=='),base64_decode(''.'bWt0aW'.'1l'),base64_decode('d'.'GltZQ'.'=='),base64_decode('ZXhwbG9k'.'ZQ='.'='),base64_decode('c'.'GFjaw'.'=='),base64_decode('b'.'WQ1'),base64_decode('Y29uc'.'3RhbnQ'.'='),base64_decode('aGFzaF9'.'obWFj'),base64_decode(''.'c3RyY21w'),base64_decode('ZXhwbG9kZ'.'Q=='),base64_decode('b'.'W'.'t0aW1l'),base64_decode('dG'.'ltZQ=='),base64_decode('a'.'W5f'.'YXJ'.'yYXk'.'='),base64_decode('cHJlZ'.'19yZXBs'.'YWNl'.'X'.'2N'.'hbG'.'xiYWNr'),base64_decode(''.'c'.'3'.'R'.'ydG9'.'s'.'b3dl'.'cg=='),base64_decode('cHJl'.'Z19t'.'YXR'.'j'.'aA=='),base64_decode('cHJlZ19y'.'ZXBsYW'.'N'.'lX2'.'N'.'hbGxiYWN'.'r'));if(!function_exists(__NAMESPACE__.'\\___847658661')){function ___847658661($_954366591){static $_1497433863= false; if($_1497433863 == false) $_1497433863=array('TEF'.'OREl'.'OR19NVVRBVE9S'.'X0'.'1PREU=',''.'Zmls'.'dG'.'Vy','IUlE','UFVCTEl'.'DX1BBR0V'.'fUkVBQ0hFRA'.'='.'=','T'.'E'.'FORE'.'lOR19QVUJ'.'M'.'SUNfUEFHRV9SRUF'.'DS'.'EVE','c2VsZ'.'WN'.'0','SU'.'Q=','VFlQRQ==',''.'Zml'.'sdGVy','SUQ=','PU'.'FD'.'V'.'ElWRQ'.'==','Tg==','Zmls'.'d'.'GV'.'y','IUl'.'E','S'.'UQ=','dHlwZQ==','VFlQRQ==','UFVCTElD'.'X'.'1NJV'.'EVf'.'U'.'kVB'.'Q0'.'hFR'.'A==','T'.'EFORElOR19QVUJMS'.'UNfU0lURV9SRUFDSEV'.'E','bGF'.'uZGluZw==','b25MYW'.'5'.'ka'.'W'.'5n'.'UHVi'.'bGljYXRpb24=','aWQ=','RE'.'I=','U0VMRUNUIFZ'.'B'.'TFVFIE'.'Z'.'ST0'.'0'.'gY'.'l9v'.'cHRpb24gV0hFUkU'.'gT'.'kFNRT0nflBBUkFNX0ZJTkl'.'TSF9E'.'QVRF'.'JyBB'.'T'.'kQgTU9'.'EVUxFX0l'.'EPS'.'dtY'.'Wl'.'uJyB'.'BT'.'kQg'.'U0'.'lUR'.'V9'.'J'.'RCBJUyBOVU'.'xM','VkFMVUU=','Lg==','S'.'Co=',''.'Yml0cml4','TE'.'l'.'D'.'RU5T'.'RV9LR'.'V'.'k=','c2hhMjU2','MjAxOC0wMS0wMQ==','MjAxOC0wM'.'S0w'.'MQ'.'='.'=','LQ'.'='.'=','TEl'.'DRU5'.'T'.'RV9'.'FWF'.'BJUkVE','TE'.'FORElOR'.'19'.'MS'.'UNFTlNFX0VY'.'U'.'E'.'l'.'SRUQ'.'=','REI=','U0'.'V'.'MRU'.'NUI'.'FZ'.'BT'.'FV'.'FI'.'EZST00gYl9vcH'.'Rpb24g'.'V0hFUkUgTkFN'.'RT0nflB'.'B'.'UkFN'.'X0Z'.'JTklTSF9EQ'.'VRFJy'.'BB'.'TkQg'.'TU9EVU'.'x'.'FX0lEP'.'S'.'dtYWluJyBBTkQgU0l'.'URV9JRCBJUyBO'.'VUxM',''.'VkFMVUU=','Lg'.'==','S'.'C'.'o'.'=','Yml0c'.'ml'.'4','T'.'ElDRU5TRV9LRVk=','c2h'.'h'.'MjU2','MjA'.'xOC0wMS0wM'.'Q'.'==',''.'M'.'jAxOC'.'0wMS0'.'wMQ==','LQ==','T'.'ElDRU5T'.'R'.'V9FWFBJU'.'kV'.'E','TEFORE'.'lOR'.'19M'.'SUNF'.'TlNFX0VY'.'UElSRUQ=','QU'.'NUSVZ'.'F',''.'WQ='.'=','UFVCT'.'E'.'lD','WQ='.'=','REFU'.'RV'.'9QVUJ'.'MSUM=','REFURV9NT0R'.'J'.'R'.'lk'.'=','QUNU'.'SVZ'.'F',''.'WQ==',''.'LyhbXDsiXXswL'.'DF9'.'KSNib'.'G'.'9'.'jayh'.'bXGRdKykoW1'.'wmI'.'l17MCwxfS'.'kvaXM=','c'.'2'.'VsZWN0','SU'.'Q=','UF'.'VCTElD',''.'UEFSR'.'U5U'.'X0lE','Q'.'09E'.'RQ==',''.'U0'.'9'.'SVA==','QUNUSVZF','QU5DSE9S',''.'QUNDRVNT','Q0'.'9OVEVOVA'.'==','ZmlsdG'.'V'.'y','TElE','PURFTEVU'.'RU'.'Q=','T'.'g==','S'.'UQ=','UFVCTElD','WQ==','Q09'.'O'.'VEVOVA==','L2hy'.'ZWZ'.'cPSIjY2F'.'0YWxvZyhFbGVtZW'.'5'.'0fFNlY3Rpb'.'2'.'4pKFtcZF0rKSI'.'vaQ='.'=','aHJlZj0i','Ig==','Q'.'09'.'OVEVOVA==','U'.'E'.'FS'.'RU5'.'UX0lE','U'.'EFSRU5UX0lE','S'.'UQ=','U0'.'9S'.'VA='.'=','U09'.'S'.'VA'.'==','QUNUSVZF','QUNUSVZF',''.'Q'.'U'.'5DSE9S','Q'.'U5DSE9'.'S',''.'QUN'.'DRVNT','QU'.'NDRVNT',''.'Q09OVE'.'VOVA==','Q'.'09OV'.'EV'.'OV'.'A==','UEFSR'.'U'.'5UX0lE',''.'Q'.'09OVEVOVA==','T'.'ElE','Q'.'0'.'9ER'.'Q='.'=','Q09ERQ==','U09SV'.'A==','U09SVA==','QU5'.'DSE'.'9S','QU5DSE9'.'S','QUNUSVZ'.'F','QUNU'.'SVZF','QUNDRV'.'NT','QUNDRVNT','Q'.'09OVEV'.'OVA==',''.'Q0'.'9O'.'VEVOVA==','UE'.'FS'.'RU'.'5UX0lE',''.'Q09OVE'.'VOVA==','Q09OVEVOVA==','Q09O'.'VEVOVA==','I2Jsb2Nr','I2J'.'sb2Nr','Q09OVEVOVA==');return base64_decode($_1497433863[$_954366591]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____634405865'][0](___847658661(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_1159247777= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___847658661(1) => array( ___847658661(2) => $landing->getId())))){ $landing->getError()->addError( ___847658661(3), Loc::getMessage(___847658661(4))); return false;}  $_626451084= Site::getList(array( ___847658661(5) => array( ___847658661(6), ___847658661(7)), ___847658661(8) => array( ___847658661(9) => $landing->getSiteId(), ___847658661(10) => ___847658661(11)))); if($_2010442617= $_626451084->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___847658661(12) => array( ___847658661(13) => $_2010442617[___847658661(14)]), ___847658661(15) => $_2010442617[___847658661(16)]))){ $landing->getError()->addError( ___847658661(17), Loc::getMessage(___847658661(18))); return false;}}  $_292770324= new Event(___847658661(19), ___847658661(20), array( ___847658661(21) => $landing->getId())); $_292770324->send(); foreach($_292770324->getResults() as $_1281874246){ if($_1281874246->getResultType() == EventResult::ERROR){ foreach($_1281874246->getErrors() as $_958827962){ $landing->getError()->addError( $_958827962->getCode(), $_958827962->getMessage());} return false;}} $_572125758= $GLOBALS[___847658661(22)]->Query(___847658661(23), true); if($_626451084= $_572125758->Fetch()){ $_12868366= $_626451084[___847658661(24)]; list($_982781403, $_853884643)= $GLOBALS['____634405865'][1](___847658661(25), $_12868366); $_1522423121= $GLOBALS['____634405865'][2](___847658661(26), $_982781403); $_511244772= ___847658661(27).$GLOBALS['____634405865'][3]($GLOBALS['____634405865'][4](___847658661(28))); $_486695300= $GLOBALS['____634405865'][5](___847658661(29), $_853884643, $_511244772, true); if($GLOBALS['____634405865'][6]($_486695300, $_1522423121) !==(926-2*463)){ $_853884643= ___847658661(30);}} else{ $_853884643= ___847658661(31);} if(!empty($_853884643)){ $_784942876= $GLOBALS['____634405865'][7](___847658661(32), $_853884643); $_178607129= $GLOBALS['____634405865'][8]((1276/2-638),(1184/2-592),(1152/2-576), $_784942876[round(0+0.5+0.5)], $_784942876[round(0+1+1)], $_784942876[(133*2-266)]); if($_178607129 <= $GLOBALS['____634405865'][9]()){ $landing->getError()->addError( ___847658661(33), Loc::getMessage(___847658661(34))); return false;}} $_572125758= $GLOBALS[___847658661(35)]->Query(___847658661(36), true); if($_626451084= $_572125758->Fetch()){ $_12868366= $_626451084[___847658661(37)]; list($_982781403, $_853884643)= $GLOBALS['____634405865'][10](___847658661(38), $_12868366); $_1522423121= $GLOBALS['____634405865'][11](___847658661(39), $_982781403); $_511244772= ___847658661(40).$GLOBALS['____634405865'][12]($GLOBALS['____634405865'][13](___847658661(41))); $_486695300= $GLOBALS['____634405865'][14](___847658661(42), $_853884643, $_511244772, true); if($GLOBALS['____634405865'][15]($_486695300, $_1522423121) !==(836-2*418)){ $_853884643= ___847658661(43);}} else{ $_853884643= ___847658661(44);} if(!empty($_853884643)){ $_784942876= $GLOBALS['____634405865'][16](___847658661(45), $_853884643); $_178607129= $GLOBALS['____634405865'][17]((1264/2-632),(1224/2-612),(972-2*486), $_784942876[round(0+1)], $_784942876[round(0+2)], $_784942876[(1248/2-624)]); if($_178607129 <= $GLOBALS['____634405865'][18]()){ $landing->getError()->addError( ___847658661(46), Loc::getMessage(___847658661(47))); return false;}}  Block::publicationBlocks($landing); $_689963111= new \Bitrix\Main\Type\DateTime; $_626451084= Landing::update($landing->getId(), array( ___847658661(48) => ___847658661(49), ___847658661(50) => ___847658661(51), ___847658661(52) => $_689963111, ___847658661(53) => false));  if($_626451084->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____634405865'][19]($landing->getSiteId(), $_1159247777)){ $_1159247777[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array( ___847658661(54) => ___847658661(55)));} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_839386158= $landing->getId(); $_348979193= array(); $_771721506= array(); $_1863858490= array(); $_1763926236= ___847658661(56); $_626451084= Block::getList(array( ___847658661(57) => array( ___847658661(58), ___847658661(59), ___847658661(60), ___847658661(61), ___847658661(62), ___847658661(63), ___847658661(64), ___847658661(65), ___847658661(66)), ___847658661(67) => array( ___847658661(68) => $landing->getId(), ___847658661(69) => ___847658661(70)))); while($_2010442617= $_626451084->fetch()){ $_348979193[$_2010442617[___847658661(71)]]= $_2010442617;}  foreach($_348979193 as $_53804251 => $_1563036406){ if($_1563036406[___847658661(72)] != ___847658661(73)){  $_1563036406[___847658661(74)]= $GLOBALS['____634405865'][20]( ___847658661(75), function($_1341619495){ return ___847658661(76). PublicAction\Utils::getIblockURL( $_1341619495[round(0+0.4+0.4+0.4+0.4+0.4)], $GLOBALS['____634405865'][21]($_1341619495[round(0+1)])). ___847658661(77);}, $_1563036406[___847658661(78)]); $_1909565609= isset($_348979193[$_1563036406[___847658661(79)]])? $_348979193[$_1563036406[___847658661(80)]][___847658661(81)]: min(38,0,12.666666666667); if($_1909565609){ Block::update($_1909565609, array( ___847658661(82) => $_1563036406[___847658661(83)], ___847658661(84) => $_1563036406[___847658661(85)], ___847658661(86) => $_1563036406[___847658661(87)], ___847658661(88) => $_1563036406[___847658661(89)], ___847658661(90) => $_1563036406[___847658661(91)])); unset($_348979193[$_1563036406[___847658661(92)]]);  File::replaceInBlock( $_1909565609, File::getFilesFromBlockContent( $_53804251, $_1563036406[___847658661(93)]));} else{ $_626451084= Block::add(array( ___847658661(94) => $_839386158, ___847658661(95) => $_1563036406[___847658661(96)], ___847658661(97) => $_1563036406[___847658661(98)], ___847658661(99) => $_1563036406[___847658661(100)], ___847658661(101) => $_1563036406[___847658661(102)], ___847658661(103) => $_1563036406[___847658661(104)], ___847658661(105) => $_1563036406[___847658661(106)])); if($_626451084->isSuccess()){ $_1909565609= $_626451084->getId(); Block::update($_53804251, array( ___847658661(107) => $_1909565609));  File::addToBlock( $_1909565609, File::getFilesFromBlockContent( $_53804251, $_1563036406[___847658661(108)]));}} if($GLOBALS['____634405865'][22]($_1763926236, $_1563036406[___847658661(109)])){ $_771721506[$_1909565609]= $_1563036406[___847658661(110)];} $_1863858490[$_53804251]= $_1909565609; unset($_348979193[$_53804251]);}}  foreach($_348979193 as $_53804251 => $_1563036406){ Block::delete($_53804251);}  foreach($_771721506 as $_53804251 => $_1501010875){ $_1501010875= $GLOBALS['____634405865'][23]( $_1763926236, function($_1010974590) use($_1863858490){ if(isset($_1863858490[$_1010974590[round(0+0.4+0.4+0.4+0.4+0.4)]])){ return $_1010974590[round(0+0.2+0.2+0.2+0.2+0.2)]. ___847658661(111). $_1863858490[$_1010974590[round(0+0.4+0.4+0.4+0.4+0.4)]]. $_1010974590[round(0+3)];} else{ return $_1010974590[round(0+0.2+0.2+0.2+0.2+0.2)]. ___847658661(112). $_1010974590[round(0+0.4+0.4+0.4+0.4+0.4)]. $_1010974590[round(0+1+1+1)];}}, $_1501010875); Block::update($_53804251, array( ___847658661(113) => $_1501010875));}}}}?>