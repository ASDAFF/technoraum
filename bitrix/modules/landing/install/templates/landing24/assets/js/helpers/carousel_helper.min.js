(function(){"use strict";BX.namespace("BX.Landing.SliderHelper");var e="init";var i="add";var l="remove";var r="update";BX.Landing.SliderHelper.activeClass="slick-initialized";BX.Landing.SliderHelper.init=function(i,l){l=l?l:e;var a=BX.Landing.SliderHelper.makeCarouselRelativeSelector(i);var t=i.block.querySelectorAll(a);if(t.length>0){if(l==r&&BX.Landing.SliderHelper.isSliderActive(t)){BX.Landing.SliderHelper.destroy(i)}BX.Landing.SliderHelper.initBase(a);BX.Landing.SliderHelper.goToSlide(i,l)}};BX.Landing.SliderHelper.destroy=function(e){var i=BX.Landing.SliderHelper.makeCarouselRelativeSelector(e);var l=e.block.querySelectorAll(i);if(l.length>0&&BX.Landing.SliderHelper.isSliderActive(l)){e.block.slickCurrentSlide=$(i).slick("slickCurrentSlide");$(i).slick("unslick")}};BX.Landing.SliderHelper.isSliderActive=function(e){var i=false;Object.keys(e).forEach(function(l){if(BX.hasClass(e[l],BX.Landing.SliderHelper.activeClass)){i=true}});return i};BX.Landing.SliderHelper.initBase=function(e){$.HSCore.components.HSCarousel.init(e,{accessibility:false});if(BX.Landing.getMode()=="edit"){$(e).slick("slickSetOption","infinite",false,true)}};BX.Landing.SliderHelper.makeCarouselRelativeSelector=function(e,i){if(e.block.carouselRelativeSelector){return e.block.carouselRelativeSelector}i=i||"js-carousel";var l=[];if(e.block){var r=[];if(e.card){r=e.block.querySelectorAll("."+e.card.className.split(/\s+/).join("."))}else if(e.node){r=e.node}else if(e.data&&e.data.selector){r=e.block.querySelectorAll(e.data.selector.split("@")[0])}if(!BX.type.isArray(r)){r=[r]}r.forEach(function(e){var r=BX.findParent(e,{className:i}),a="";if(r){r.classList.forEach(function(e){if(e.indexOf("slick-")==-1){a+="."+e}});if(l[l.length-1]!=a){l.push(a)}}})}if(l.length==0){l=["."+i]}l.forEach(function(i,r){l[r]=e.makeRelativeSelector(i)});e.block.carouselRelativeSelector=l.join(",");return e.block.carouselRelativeSelector};BX.Landing.SliderHelper.goToSlide=function(e,a){if(!a){return}var t=BX.Landing.SliderHelper.makeCarouselRelativeSelector(e);var n=parseInt(e.block.slickCurrentSlide);var o=e.card;if(e.block.querySelector(t).dataset.rows&&parseInt(e.block.querySelector(t).dataset.rows)>1){o=BX.findParent(e.card,{className:"slick-slide"})}if(o){var c=parseInt(o.dataset.slickIndex)}switch(a){case i:BX.Landing.SliderHelper.goToNewSlideAfterAdd(t,n,c);break;case l:BX.Landing.SliderHelper.goToNewSlideAfterRemove(t,n,c);break;case r:BX.Landing.SliderHelper.goToSlideAfterUpdate(t,n);break;default:}};BX.Landing.SliderHelper.goToNewSlideAfterAdd=function(e,i,l){if(BX.type.isNumber(l)&&BX.type.isNumber(i)){var r=$(e).slick("slickGetOption","slidesToShow");r=r===true?1:r;if(l-i>=r){$(e).slick("slickGoTo",i,true);$(e).slick("slickGoTo",i+1,false)}else{$(e).slick("slickGoTo",i,true)}}};BX.Landing.SliderHelper.goToNewSlideAfterRemove=function(e,i,l){if(BX.type.isNumber(l)&&BX.type.isNumber(i)){$(e).slick("slickGoTo",Math.min(i,l),true)}};BX.Landing.SliderHelper.goToSlideAfterUpdate=function(e,i){if(BX.type.isNumber(i)){$(e).slick("slickGoTo",i,true)}}})();
//# sourceMappingURL=carousel_helper.map.js